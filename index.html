<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Action Potential in Physiology: Advanced Neuroscience Quiz</title>
    <style>
        /* Same CSS framework as previous quiz */
        :root {
            --primary: #2c5282;
            --secondary: #3182ce;
            --accent: #63b3ed;
            --light: #ebf8ff;
            --dark: #1a365d;
            --success: #38a169;
            --warning: #d69e2e;
            --danger: #e53e3e;
            --depolarization-color: #e53e3e;
            --repolarization-color: #48bb78;
            --refractory-color: #9f7aea;
            --propagation-color: #d69e2e;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(rgba(44, 82, 130, 0.85), rgba(44, 82, 130, 0.9)), 
                        url('https://images.unsplash.com/photo-1559757175-0eb30cd8c063?q=80&w=2074&auto=format&fit=crop') center/cover fixed;
            color: #2d3748;
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 40px 0;
            background: linear-gradient(135deg, var(--primary), var(--depolarization-color));
            color: white;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .action-icon {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 3rem;
            opacity: 0.2;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.95;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .difficulty-badge {
            display: inline-block;
            background: linear-gradient(135deg, var(--depolarization-color), var(--refractory-color));
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 1rem;
            margin-top: 15px;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .quiz-info {
            display: flex;
            justify-content: space-around;
            background: rgba(255, 255, 255, 0.95);
            padding: 20px 30px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .info-item {
            text-align: center;
            padding: 10px;
        }
        
        .info-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .info-label {
            font-size: 0.9rem;
            color: #4a5568;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .quiz-container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .questions-section {
            flex: 2;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.97);
            padding: 35px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25);
            max-height: 85vh;
            overflow-y: auto;
            border: 1px solid rgba(0, 0, 0, 0.08);
        }
        
        .answer-section {
            flex: 1;
            min-width: 300px;
            background: rgba(255, 255, 255, 0.97);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25);
            display: none;
            max-height: 85vh;
            overflow-y: auto;
            border: 1px solid rgba(0, 0, 0, 0.08);
        }
        
        .answer-section.visible {
            display: block;
        }
        
        .question {
            margin-bottom: 35px;
            padding-bottom: 30px;
            border-bottom: 2px solid #e2e8f0;
            position: relative;
        }
        
        .question-number {
            font-weight: bold;
            color: var(--secondary);
            margin-bottom: 15px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 12px;
            padding-left: 5px;
        }
        
        .question-number::before {
            content: "Q";
            background: linear-gradient(135deg, var(--primary), var(--depolarization-color));
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .question-text {
            margin-bottom: 25px;
            font-size: 1.15rem;
            line-height: 1.8;
            background: linear-gradient(to right, var(--light), #f7fafc);
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid var(--accent);
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.05);
        }
        
        .depolarization-note {
            background: linear-gradient(to right, #fff5f5, #fed7d7);
            border-left: 5px solid var(--depolarization-color);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .repolarization-note {
            background: linear-gradient(to right, #f0fff4, #c6f6d5);
            border-left: 5px solid var(--repolarization-color);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .refractory-note {
            background: linear-gradient(to right, #faf5ff, #e9d8fd);
            border-left: 5px solid var(--refractory-color);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .propagation-note {
            background: linear-gradient(to right, #fffaf0, #feebc8);
            border-left: 5px solid var(--propagation-color);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .clinical-note {
            background: linear-gradient(to right, #e6f7ff, #b3e0ff);
            border-left: 5px solid var(--secondary);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            font-style: italic;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .option {
            padding: 18px 25px;
            border: 2px solid #cbd5e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.08rem;
            background: white;
            position: relative;
            overflow: hidden;
        }
        
        .option::before {
            content: attr(data-letter);
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 40px;
            background: #edf2f7;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--dark);
            border-right: 2px solid #cbd5e0;
        }
        
        .option-content {
            margin-left: 45px;
        }
        
        .option:hover {
            background-color: #f7fafc;
            border-color: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .option.selected {
            background-color: #e6fffa;
            border-color: var(--secondary);
            box-shadow: 0 4px 12px rgba(49, 130, 206, 0.15);
        }
        
        .option.correct {
            background-color: #f0fff4;
            border-color: var(--success);
            box-shadow: 0 4px 12px rgba(56, 161, 105, 0.15);
        }
        
        .option.incorrect {
            background-color: #fff5f5;
            border-color: var(--danger);
            box-shadow: 0 4px 12px rgba(229, 62, 62, 0.15);
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            gap: 20px;
        }
        
        button {
            padding: 18px 35px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 1.15rem;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
            position: relative;
            overflow: hidden;
        }
        
        button::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }
        
        button:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }
        
        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(20, 20);
                opacity: 0;
            }
        }
        
        .submit-btn {
            background: linear-gradient(135deg, var(--depolarization-color), var(--primary));
            color: white;
            flex: 2;
        }
        
        .submit-btn:hover {
            background: linear-gradient(135deg, var(--primary), var(--dark));
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }
        
        .reset-btn {
            background: linear-gradient(135deg, #ffffff, #f7fafc);
            color: var(--dark);
            flex: 1;
            border: 2px solid #cbd5e0;
        }
        
        .reset-btn:hover {
            background: white;
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        
        .results-section {
            margin-top: 50px;
            padding: 40px;
            background: rgba(255, 255, 255, 0.97);
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25);
            display: none;
            border: 1px solid rgba(0, 0, 0, 0.08);
        }
        
        .score-display {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, var(--primary), var(--depolarization-color));
            color: white;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .score-display::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            animation: float 20s linear infinite;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(-20px, -20px) rotate(360deg); }
        }
        
        .score-value {
            font-size: 4rem;
            font-weight: bold;
            margin: 15px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
            z-index: 1;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 40px 0;
            gap: 25px;
        }
        
        .stat-box {
            text-align: center;
            padding: 30px 20px;
            border-radius: 12px;
            background: white;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            flex: 1;
            transition: transform 0.3s;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .stat-box:hover {
            transform: translateY(-5px);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .passed .stat-value {
            color: var(--success);
            background: linear-gradient(135deg, var(--success), #48bb78);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .failed .stat-value {
            color: var(--danger);
            background: linear-gradient(135deg, var(--danger), #fc8181);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .attempted .stat-value {
            color: var(--secondary);
            background: linear-gradient(135deg, var(--secondary), #4299e1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .answer-bank {
            margin-top: 50px;
        }
        
        .answer-item {
            padding: 20px;
            border-bottom: 1px solid #e2e8f0;
            background: white;
            margin-bottom: 15px;
            border-radius: 10px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.08);
            transition: transform 0.2s;
        }
        
        .answer-item:hover {
            transform: translateY(-2px);
        }
        
        .answer-correct {
            color: var(--success);
            font-weight: bold;
            display: inline-block;
            padding: 5px 10px;
            background: #f0fff4;
            border-radius: 5px;
            margin: 5px 0;
        }
        
        .answer-incorrect {
            color: var(--danger);
            font-weight: bold;
            display: inline-block;
            padding: 5px 10px;
            background: #fff5f5;
            border-radius: 5px;
            margin: 5px 0;
        }
        
        .support-section {
            text-align: center;
            margin-top: 50px;
            padding: 35px;
            background: linear-gradient(135deg, var(--primary), var(--depolarization-color));
            color: white;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .support-link {
            color: white;
            text-decoration: none;
            font-weight: bold;
            display: inline-block;
            margin-top: 20px;
            padding: 15px 30px;
            background-color: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .support-link:hover {
            background-color: rgba(255, 255, 255, 0.25);
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        
        .share-section {
            text-align: center;
            margin-top: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(0, 0, 0, 0.08);
        }
        
        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .share-btn-small {
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            min-width: 180px;
            justify-content: center;
        }
        
        .share-twitter {
            background: linear-gradient(135deg, #1DA1F2, #0d8bd9);
            color: white;
        }
        
        .share-facebook {
            background: linear-gradient(135deg, #4267B2, #365899);
            color: white;
        }
        
        .share-whatsapp {
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
        }
        
        .share-copy {
            background: linear-gradient(135deg, var(--depolarization-color), var(--primary));
            color: white;
        }
        
        .progress-bar {
            height: 10px;
            background: #e2e8f0;
            border-radius: 5px;
            margin: 25px 0;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--depolarization-color), var(--primary));
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            width: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        @media (max-width: 1200px) {
            .quiz-container {
                flex-direction: column;
            }
            
            .stats {
                flex-direction: column;
                gap: 20px;
            }
            
            .share-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .share-btn-small {
                width: 100%;
                max-width: 300px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .score-value {
                font-size: 3rem;
            }
        }
        
        @media (max-width: 768px) {
            .controls {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
            
            h1 {
                font-size: 1.7rem;
            }
            
            .score-value {
                font-size: 2.5rem;
            }
            
            .question-text {
                font-size: 1.1rem;
                padding: 15px;
            }
            
            .option {
                padding: 15px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="action-icon">⚡</div>
            <h1>Action Potential in Physiology: Advanced Neuroscience Quiz</h1>
            <p class="subtitle">60 Challenging Questions on Action Potential Generation, Propagation, Channel Kinetics, Mathematical Models & Clinical Correlations</p>
            <div class="difficulty-badge">ADVANCED ELECTROPHYSIOLOGY</div>
        </header>
        
        <div class="quiz-info">
            <div class="info-item">
                <div class="info-value">60</div>
                <div class="info-label">Questions</div>
            </div>
            <div class="info-item">
                <div class="info-value">Depolarization</div>
                <div class="info-label">Phase</div>
            </div>
            <div class="info-item">
                <div class="info-value">Repolarization</div>
                <div class="info-label">Phase</div>
            </div>
            <div class="info-item">
                <div class="info-value">Refractory</div>
                <div class="info-label">Periods</div>
            </div>
        </div>
        
        <div class="progress-bar">
            <div class="progress" id="progress-bar" style="width: 0%"></div>
        </div>
        
        <div class="quiz-container">
            <div class="questions-section" id="questions-section">
                <!-- Questions will be dynamically inserted here -->
            </div>
            
            <div class="answer-section" id="answer-section">
                <h2>Advanced Answer Bank</h2>
                <p>Comprehensive explanations based on Hodgkin-Huxley Model & Modern Electrophysiology</p>
                <div id="answer-bank">
                    <!-- Answers will be dynamically inserted here -->
                </div>
            </div>
        </div>
        
        <div class="controls">
            <button class="reset-btn" id="reset-btn">Reset Quiz</button>
            <button class="submit-btn" id="submit-btn">Submit Answers</button>
        </div>
        
        <div class="results-section" id="results-section">
            <div class="score-display">
                <h2>Your Action Potential Mastery Score</h2>
                <div class="score-value" id="score-value">0/60</div>
                <p>Advanced Concepts in Action Potential Physiology & Electrophysiology</p>
            </div>
            
            <div class="stats">
                <div class="stat-box attempted">
                    <div class="stat-value" id="attempted-value">0</div>
                    <div class="stat-label">Questions Attempted</div>
                </div>
                <div class="stat-box passed">
                    <div class="stat-value" id="passed-value">0</div>
                    <div class="stat-label">Questions Passed</div>
                </div>
                <div class="stat-box failed">
                    <div class="stat-value" id="failed-value">0</div>
                    <div class="stat-label">Questions Failed</div>
                </div>
            </div>
            
            <div class="share-section">
                <h3>Share Your Action Potential Results</h3>
                <div class="share-buttons">
                    <button class="share-btn-small share-twitter" id="share-twitter">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                        </svg>
                        Twitter
                    </button>
                    <button class="share-btn-small share-facebook" id="share-facebook">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/>
                        </svg>
                        Facebook
                    </button>
                    <button class="share-btn-small share-whatsapp" id="share-whatsapp">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12.017 2.047c-2.724 0-5.443 1.042-7.513 3.112-4.163 4.163-4.163 10.92 0 15.083 2.07 2.07 4.789 3.112 7.513 3.112s5.443-1.042 7.513-3.112c4.163 4.163 4.163 10.92 0 15.083-2.07 2.07-4.789 3.112-7.513 3.112zm-3.017 15.953l-1.516-1.516 3.035-3.035-3.035-3.035 1.516-1.516 3.035 3.035 3.035-3.035 1.516 1.516-3.035 3.035 3.035 3.035-1.516 1.516-3.035-3.035-3.035 3.035z"/>
                        </svg>
                        WhatsApp
                    </button>
                    <button class="share-btn-small share-copy" id="share-copy">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M16 1h-12c-1.1 0-2 .9-2 2v14h2v-14h12v-2zm3 4h-11c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2zm0 16h-11v-14h11v14z"/>
                        </svg>
                        Copy Results
                    </button>
                </div>
            </div>
            
            <div class="answer-bank">
                <h3>Advanced Explanations Based on Hodgkin-Huxley Model</h3>
                <div id="detailed-answers">
                    <!-- Detailed answers will be dynamically inserted here -->
                </div>
            </div>
        </div>
        
        <div class="support-section">
            <h3>Follow Code God for More Medical Quizzes</h3>
            <a href="https://www.tiktok.com/@code.god3?_r=1&_d=ZS-91SF7FxgGKu" target="_blank" class="support-link">Follow on TikTok</a>
        </div>
    </div>

    <script>
        // 60 ADVANCED questions on Action Potential Physiology
        // Questions 1-15: Basic Concepts & Threshold - Answer A
        // Questions 16-30: Depolarization Phase - Answer B
        // Questions 31-45: Repolarization & After-hyperpolarization - Answer C
        // Questions 46-60: Propagation, Refractory Periods & Advanced Topics - Answer D
        const quizData = [
            // Questions 1-15: Basic Concepts & Threshold - Answer A
            {
                question: "The exact mechanism by which depolarization to threshold opens voltage-gated sodium channels involves:",
                options: [
                    "Movement of S4 voltage-sensor α-helices containing positively charged arginine residues",
                    "Direct binding of sodium ions to the channel's activation gate",
                    "Phosphorylation of channel proteins by protein kinases",
                    "Calcium-dependent conformational changes in the channel structure"
                ],
                correct: 0,
                explanation: "The S4 transmembrane segments of voltage-gated sodium channels contain positively charged arginine residues that move outward in response to depolarization, initiating channel opening."
            },
            {
                question: "The 'sodium channel window current' refers to:",
                options: [
                    "The small overlap between activation and inactivation curves allowing steady-state sodium current",
                    "The brief period when sodium channels are completely closed during repolarization",
                    "The time window for calcium influx during action potentials",
                    "The refractory period between action potentials"
                ],
                correct: 0,
                explanation: "Window current occurs at membrane potentials where steady-state activation and inactivation curves overlap, allowing a small persistent sodium current that can influence repetitive firing."
            },
            {
                question: "According to the Hodgkin-Huxley model, the sodium conductance (gNa) follows which differential equation?",
                options: [
                    "dgNa/dt = αₘ(1-m) - βₘm where m is activation variable",
                    "dm/dt = αₘ(1-m) - βₘm where αₘ and βₘ are voltage-dependent rate constants",
                    "gNa = ḡNa·m³h where m is activation and h is inactivation",
                    "Both B and C are correct"
                ],
                correct: 3,
                explanation: "In Hodgkin-Huxley model: dm/dt = αₘ(1-m) - βₘm (m activation gate kinetics) AND gNa = ḡNa·m³h (total sodium conductance with m gate requiring three particles to activate)."
            },
            {
                question: "The 'sodium channel inactivation gate' is thought to be physically blocked by:",
                options: [
                    "The intracellular loop between domains III and IV (IFM motif: isoleucine-phenylalanine-methionine)",
                    "The S4 voltage sensor moving inward",
                    "Extracellular magnesium ions",
                    "The selectivity filter DEKA motif"
                ],
                correct: 0,
                explanation: "The III-IV intracellular loop containing IFM (isoleucine-phenylalanine-methionine) motif acts as a 'hinged lid' that physically blocks the channel pore during inactivation."
            },
            {
                question: "The 'gating current' measured in voltage clamp experiments represents:",
                options: [
                    "Movement of ions through open channels",
                    "Movement of charged residues within voltage sensors before channels open",
                    "Capacitive charging of membrane capacitance",
                    "Electrogenic pump currents"
                ],
                correct: 1,
                explanation: "Gating currents are tiny currents from movement of charged residues in voltage sensors during channel transitions, detectable before ionic currents flow."
            },
            {
                question: "The phenomenon of 'accommodation' refers to:",
                options: [
                    "Gradual increase in threshold with slowly rising depolarization due to sodium channel inactivation",
                    "Decrease in action potential amplitude during high-frequency firing",
                    "Increase in conduction velocity with myelination",
                    "Adaptation of neurons to sustained stimulation"
                ],
                correct: 0,
                explanation: "Accommodation occurs when slowly rising depolarization causes sodium channel inactivation to develop faster than activation, raising threshold or preventing firing."
            },
            {
                question: "The 'Nernst potential' for sodium (ENa) in mammalian neurons is approximately +60 mV because:",
                options: [
                    "Intracellular [Na+] = 15 mM, extracellular [Na+] = 150 mM at 37°C",
                    "Intracellular [Na+] = 150 mM, extracellular [Na+] = 15 mM",
                    "The Goldman equation predicts this value",
                    "It's determined by the sodium-potassium pump ratio"
                ],
                correct: 0,
                explanation: "ENa = (RT/zF)ln([Na+]out/[Na+]in) = (61.5 mV)log(150/15) ≈ +61.5 mV at 37°C with typical concentrations."
            },
            {
                question: "The 'sodium activation gate (m-gate)' in Hodgkin-Huxley kinetics has time constant τₘ that:",
                options: [
                    "Decreases with depolarization (faster activation at more positive voltages)",
                    "Increases with depolarization (slower activation)",
                    "Is voltage-independent",
                    "Is always slower than inactivation time constant"
                ],
                correct: 0,
                explanation: "τₘ = 1/(αₘ+βₘ) decreases with depolarization because αₘ increases and βₘ decreases, making activation faster at more positive voltages."
            },
            {
                question: "The 'critical firing threshold' is best defined as:",
                options: [
                    "The membrane potential where net inward current exceeds outward current, creating positive feedback",
                    "A fixed voltage value of -55 mV for all neurons",
                    "The potential where sodium channels begin to activate",
                    "The peak of the action potential"
                ],
                correct: 0,
                explanation: "Threshold is dynamic: when net inward (Na+) current exceeds outward (K+) current, depolarization becomes regenerative via positive feedback, not a fixed voltage."
            },
            {
                question: "In cardiac myocytes, the plateau phase of action potential is due to:",
                options: [
                    "L-type calcium currents balancing delayed rectifier potassium currents",
                    "Persistent sodium currents",
                    "Fast sodium currents only",
                    "Chloride currents"
                ],
                correct: 0,
                explanation: "Cardiac action potential plateau occurs because L-type calcium current (inward) balances delayed rectifier potassium current (outward), maintaining depolarization."
            },
            {
                question: "The 'sodium channel α-subunit' contains:",
                options: [
                    "Four homologous domains (I-IV), each with six transmembrane segments (S1-S6)",
                    "A single domain with six transmembrane segments",
                    "Four separate proteins that assemble",
                    "Three domains with eight segments each"
                ],
                correct: 0,
                explanation: "Voltage-gated sodium channel α-subunit has four homologous domains (I-IV), each with six transmembrane α-helices (S1-S6), with S4 as voltage sensor."
            },
            {
                question: "The 'strength-duration relationship' for action potential initiation shows that:",
                options: [
                    "Threshold current × duration = constant for short durations (rheobase and chronaxie)",
                    "Any stimulus above rheobase will fire action potential regardless of duration",
                    "Long-duration stimuli require higher amplitude",
                    "Strength and duration are independent"
                ],
                correct: 0,
                explanation: "Strength-duration curve: I = Iᵣ/(1-e^(-t/τ)) where Iᵣ is rheobase, τ is membrane time constant. Chronaxie is duration at 2× rheobase."
            },
            {
                question: "The 'GHK current equation' for sodium current is: I_Na =",
                options: [
                    "P_Na·(zF·ψ)·([Na]_i - [Na]_o·e^(-zFψ/RT))/(1 - e^(-zFψ/RT)) where ψ=Vm/RT",
                    "g_Na·(Vm - E_Na) (Ohm's law approximation)",
                    "Only valid for constant field assumption",
                    "Both A and C are correct"
                ],
                correct: 3,
                explanation: "GHK current equation: I=P·(z²F²/RT)·V·([C]_i-[C]_o·e^(-zFV/RT))/(1-e^(-zFV/RT)), assuming constant electric field. Ohm's law I=g·(V-E) is an approximation."
            },
            {
                question: "The 'sodium channel selectivity filter' is formed by:",
                options: [
                    "DEKA motif (aspartate-glutamate-lysine-alanine) in P-loops between S5-S6",
                    "S4 voltage sensor arginine residues",
                    "III-IV inactivation loop",
                    "Extracellular glycosylation sites"
                ],
                correct: 0,
                explanation: "Selectivity filter is formed by DEKA motif (Asp-Glu-Lys-Ala) in P-loops between S5-S6 of each domain, determining Na+ over K+ selectivity."
            },
            {
                question: "The 'activation curve' for sodium channels (m_∞ vs Vm) is typically:",
                options: [
                    "Sigmoidal with V₁/₂ around -40 mV and slope factor 5-7 mV",
                    "Linear relationship",
                    "Bell-shaped curve",
                    "Hyperbolic function"
                ],
                correct: 0,
                explanation: "Sodium activation curve m_∞(V) = 1/(1+exp((V₁/₂-V)/k)) where V₁/₂ ≈ -40 mV, k ≈ 5-7 mV. Steep voltage dependence allows all-or-none response."
            },

            // Questions 16-30: Depolarization Phase - Answer B
            {
                question: "During the rising phase of action potential, the maximum rate of depolarization (dV/dt_max) is approximately:",
                options: [
                    "100-200 V/s in unmyelinated axons",
                    "500-1000 V/s in mammalian neurons, proportional to sodium current density",
                    "Limited by membrane capacitance (C_m) and sodium conductance",
                    "Both B and C are correct"
                ],
                correct: 3,
                explanation: "dV/dt_max = I_Na_max/C_m, typically 500-1000 V/s in mammalian neurons. Higher in nodes of Ranvier (2000+ V/s). Proportional to sodium channel density."
            },
            {
                question: "The 'sodium current reversal potential' measured experimentally is:",
                options: [
                    "Always +60 mV regardless of conditions",
                    "The potential where I_Na changes sign, affected by sodium concentrations and Goldman-Hodgkin-Katz behavior",
                    "The same as sodium Nernst potential in all cases",
                    "Not measurable due to channel inactivation"
                ],
                correct: 1,
                explanation: "While ENa ≈ +60 mV, actual reversal potential can differ due to GHK behavior, imperfect selectivity, or series resistance. Measured where I-V curve crosses zero."
            },
            {
                question: "The phenomenon of 'anodal break excitation' occurs because:",
                options: [
                    "Hyperpolarization removes sodium channel inactivation, making neurons more excitable",
                    "Hyperpolarization activates hyperpolarization-activated cation channels (I_h)",
                    "After hyperpolarization, rebound depolarization can reach threshold",
                    "All of the above contribute to anodal break excitation"
                ],
                correct: 3,
                explanation: "Anodal break: hyperpolarization (1) removes Na+ inactivation, (2) activates I_h, (3) deactivates K+ channels → rebound depolarization reaching threshold."
            },
            {
                question: "The 'sodium channel fast inactivation' time constant τₕ:",
                options: [
                    "Decreases with depolarization (inactivation speeds up at more positive voltages)",
                    "Increases with depolarization",
                    "Is voltage-independent",
                    "Is always slower than activation time constant"
                ],
                correct: 0,
                explanation: "τₕ = 1/(αₕ+βₕ) decreases with depolarization because αₕ decreases and βₕ increases, making inactivation faster at positive voltages."
            },
            {
                question: "In the 'voltage clamp' technique, the space clamp problem is solved by:",
                options: [
                    "Using long axons without axial wire",
                    "Using short axons or axial wire to achieve uniform potential",
                    "Measuring extracellular potentials only",
                    "Using current clamp instead"
                ],
                correct: 1,
                explanation: "Space clamp: short axons or axial wire ensures uniform Vm along membrane segment. Essential for accurate voltage control in voltage clamp experiments."
            },
            {
                question: "The 'sodium current magnitude' during action potential peak is approximately:",
                options: [
                    "10-100 pA per channel × 100-1000 channels/μm² = 1-10 nA/μm²",
                    "1-10 pA total per neuron",
                    "Constant regardless of membrane area",
                    "Determined solely by sodium concentration gradient"
                ],
                correct: 0,
                explanation: "Single Na+ channel current ~1 pA at 0 mV. Density 100-1000 channels/μm². Peak I_Na ~1-10 nA/μm², enough to charge membrane capacitance rapidly."
            },
            {
                question: "The 'sodium channel activation kinetics' are described by:",
                options: [
                    "Single exponential with time constant τₘ",
                    "Third power of m variable (m³) in HH model, suggesting multiple activation steps",
                    "Instantaneous activation in some simplified models",
                    "Both A and B are correct"
                ],
                correct: 3,
                explanation: "Na+ activation: m follows dm/dt = αₘ(1-m)-βₘm (single exponential per gate). But total gNa ∝ m³, suggesting three independent activation gates."
            },
            {
                question: "The 'overshoot' of action potential (positive peak) is determined by:",
                options: [
                    "Sodium equilibrium potential (+60 mV)",
                    "The balance between sodium influx and potassium efflux at peak",
                    "When sodium current equals potassium current",
                    "Both B and C are correct"
                ],
                correct: 3,
                explanation: "Overshoot occurs when I_Na = I_K (net current zero). Peak Vm approaches but doesn't reach ENa because K+ efflux continues. Typically +30 to +40 mV."
            },
            {
                question: "The 'sodium channel persistent current' (I_NaP):",
                options: [
                    "Results from incomplete inactivation or window current",
                    "Is crucial for pacemaker activity in some neurons",
                    "Can be targeted by anti-seizure medications",
                    "All of the above are correct"
                ],
                correct: 3,
                explanation: "Persistent Na+ current (I_NaP) comes from incomplete inactivation or window current. Important for pacemaking, amplification, and targeted in epilepsy."
            },
            {
                question: "In the 'action potential initiation zone' (axon initial segment), sodium channel density is:",
                options: [
                    "Lower than in soma to prevent ectopic firing",
                    "Higher than in soma (up to 10×), with specific subtypes (NaV1.6)",
                    "The same as in nodes of Ranvier",
                    "Not important for action potential generation"
                ],
                correct: 1,
                explanation: "Axon initial segment has highest Na+ channel density (up to 10× soma), with NaV1.6 predominant. Lower threshold ensures reliable initiation."
            },
            {
                question: "The 'sodium current during action potential' is approximately:",
                options: [
                    "1-3 pC/μm² total charge entry per action potential",
                    "10-30 pC/μm²",
                    "100-300 pC/μm²",
                    "Calculated from Q = ∫I_Na dt, with I_Na lasting ~1 ms"
                ],
                correct: 3,
                explanation: "Q_Na = ∫I_Na dt ≈ (1 nA/μm² × 1 ms) = 1 pC/μm² per AP. Approximately 3-4×10⁴ Na+ ions enter per μm² per AP."
            },
            {
                question: "The 'sodium channel β-subunits':",
                options: [
                    "Are accessory proteins that modulate kinetics and trafficking",
                    "Include β1-β4, encoded by SCN1B-SCN4B genes",
                    "Can affect channel inactivation and resurgent currents",
                    "All of the above are correct"
                ],
                correct: 3,
                explanation: "Na+ channel β-subunits (β1-β4) modulate gating, trafficking, and localization. β4 enables resurgent Na+ current important in Purkinje neurons."
            },
            {
                question: "The 'voltage dependence of sodium activation (αₘ)' in HH model:",
                options: [
                    "αₘ(V) = 0.1·(25-V)/(exp((25-V)/10)-1) mV⁻¹ms⁻¹ (original HH)",
                    "αₘ increases exponentially with depolarization",
                    "Reflects Boltzmann distribution of voltage sensor movement",
                    "All of the above are correct"
                ],
                correct: 3,
                explanation: "In original HH: αₘ = 0.1(25-V)/(exp((25-V)/10)-1). This form comes from Eyring rate theory/Boltzmann distribution of voltage sensor states."
            },
            {
                question: "The 'sodium channel closed-state inactivation' refers to:",
                options: [
                    "Inactivation that occurs from closed states without opening",
                    "Faster at depolarized potentials",
                    "Important for spike-frequency adaptation",
                    "Both A and B are correct"
                ],
                correct: 3,
                explanation: "Closed-state inactivation occurs without channel opening, particularly at subthreshold depolarizations. Contributes to accommodation and use-dependent block."
            },
            {
                question: "The 'all-or-none law' mathematically means:",
                options: [
                    "Action potential amplitude is independent of stimulus strength above threshold",
                    "The system has a sharp threshold due to positive feedback in Na+ activation",
                    "Described by bifurcation theory in dynamical systems",
                    "All of the above are correct"
                ],
                correct: 3,
                explanation: "All-or-none: positive feedback (Na+ activation) creates bifurcation at threshold. Above threshold, solution goes to limit cycle (AP) regardless of stimulus size."
            },

            // Questions 31-45: Repolarization & After-hyperpolarization - Answer C
            {
                question: "The 'delayed rectifier potassium current (I_K)' activates with:",
                options: [
                    "Time constant τₙ ≈ 1-10 ms, slower than sodium activation",
                    "Fourth power of n variable (n⁴) in HH model",
                    "Voltage dependence similar to sodium but slower kinetics",
                    "All of the above are correct"
                ],
                correct: 3,
                explanation: "I_K activation: dn/dt = αₙ(1-n)-βₙn with τₙ = 1-10 ms. g_K = ḡ_K·n⁴ in HH. Slow activation ensures repolarization follows depolarization."
            },
            {
                question: "The 'after-hyperpolarization (AHP)' is primarily due to:",
                options: [
                    "Continued potassium efflux through delayed rectifiers after sodium inactivation",
                    "Calcium-activated potassium currents (I_K,Ca)",
                    "Sodium-potassium pump electrogenicity",
                    "Both A and B contribute"
                ],
                correct: 3,
                explanation: "Early AHP: delayed rectifier K+ channels closing slowly. Medium/late AHP: Ca²⁺-activated K+ channels. Pump contributes minimally to hyperpolarization."
            },
            {
                question: "The 'potassium channel activation curve' (n_∞ vs V) has:",
                options: [
                    "V₁/₂ ≈ -50 to -30 mV, shallower than sodium activation",
                    "Steep voltage dependence like sodium channels",
                    "No voltage dependence",
                    "V₁/₂ ≈ +20 mV"
                ],
                correct: 0,
                explanation: "K+ activation: n_∞ = 1/(1+exp((V₁/₂-V)/k)) with V₁/₂ ≈ -50 to -30 mV, k ≈ 5-10 mV. Shallower than Na+ activation (V₁/₂ ≈ -40 mV, k ≈ 5-7 mV)."
            },
            {
                question: "The 'sodium channel deactivation' after repolarization:",
                options: [
                    "Occurs rapidly as channels return to closed state",
                    "Is necessary for recovery from inactivation",
                    "Follows different pathway than activation",
                    "Both A and B are correct"
                ],
                correct: 3,
                explanation: "Deactivation (closing) occurs rapidly upon repolarization. Channels must deactivate before recovering from inactivation (returning to closed available state)."
            },
            {
                question: "The 'repolarization rate' is limited by:",
                options: [
                    "Potassium channel activation kinetics",
                    "Membrane capacitance (C_m)",
                    "Sodium channel inactivation",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Repolarization rate depends on: (1) K+ activation kinetics (slowest), (2) C_m (charge storage), (3) Na+ inactivation (reduces inward current)."
            },
            {
                question: "The 'potassium equilibrium potential (EK)' during repolarization:",
                options: [
                    "Remains constant at -90 mV",
                    "Can shift slightly due to potassium accumulation in extracellular space",
                    "Is affected by sodium-potassium pump activity",
                    "Both B and C are correct"
                ],
                correct: 3,
                explanation: "EK = (RT/F)ln([K+]out/[K+]in). During high-frequency firing, K+ accumulation ↑[K+]out → EK less negative → reduced driving force."
            },
            {
                question: "The 'sodium channel slow inactivation':",
                options: [
                    "Has time constants of seconds to minutes",
                    "Involves different molecular mechanisms than fast inactivation",
                    "Can accumulate during prolonged depolarization",
                    "All of the above are correct"
                ],
                correct: 3,
                explanation: "Slow inactivation: τ = seconds-minutes, involves rearrangement of outer pore/P-loop. Distinct from fast (hinged-lid) inactivation. Important for adaptation."
            },
            {
                question: "The 'calcium-activated potassium channels' (BK/SK) contribute to:",
                options: [
                    "Medium after-hyperpolarization (mAHP)",
                    "Slow after-hyperpolarization (sAHP)",
                    "Spike-frequency adaptation",
                    "All of the above"
                ],
                correct: 3,
                explanation: "BK (large conductance): fast AHP/repolarization. SK (small conductance): mAHP. sAHP: different Ca²⁺-activated K⁺ channels. All contribute to adaptation."
            },
            {
                question: "The 'sodium channel repriming' (recovery from inactivation) follows:",
                options: [
                    "Double exponential kinetics: fast (1-10 ms) and slow (100+ ms) components",
                    "Voltage-dependent, faster at hyperpolarized potentials",
                    "Time course that determines refractory period",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Recovery from inactivation: biexponential (fast/slow), voltage-dependent (faster at hyperpolarization). Time course determines absolute/relative refractory periods."
            },
            {
                question: "The 'potassium channel types' involved in repolarization include:",
                options: [
                    "Delayed rectifiers (Kv1, Kv2, Kv3 families)",
                    "A-type potassium channels (Kv4 family)",
                    "Calcium-activated potassium channels",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Multiple K+ channels: delayed rectifiers (Kv1-3) for repolarization; A-type (Kv4) for spike timing; Ca²⁺-activated (BK/SK) for AHP."
            },
            {
                question: "The 'action potential duration' at half-amplitude is typically:",
                options: [
                    "1-2 ms in mammalian axons",
                    "0.5-1 ms at nodes of Ranvier",
                    "Longer in dendrites and soma (2-5 ms)",
                    "All of the above are correct"
                ],
                correct: 3,
                explanation: "AP duration varies: nodes ~0.5 ms (fast); axons ~1 ms; soma/dendrites ~2-5 ms (slower K+ channels). Measured at half-maximum amplitude."
            },
            {
                question: "The 'sodium channel use-dependent block' by local anesthetics:",
                options: [
                    "Increases with higher firing frequency",
                    "Results from preferential binding to inactivated states",
                    "Underlies frequency-dependent conduction block",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Use-dependent block: local anesthetics bind preferentially to inactivated states. More channels inactivated during high-frequency firing → greater block."
            },
            {
                question: "The 'repolarization phase' can be mathematically described by:",
                options: [
                    "dV/dt = -(g_K·(V-E_K) + g_Na·(V-E_Na) + ...)/C_m",
                    "When outward K+ current exceeds inward Na+ current",
                    "A phase plane trajectory returning to resting state",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Repolarization: dV/dt becomes negative when I_K > I_Na. Phase plane shows trajectory returning to fixed point. Governed by same differential equations."
            },
            {
                question: "The 'after-depolarization' (ADP) sometimes observed after action potentials is due to:",
                options: [
                    "Persistent sodium current",
                    "Calcium currents and calcium-activated cation currents",
                    "Incomplete potassium channel activation",
                    "Both A and B are correct"
                ],
                correct: 3,
                explanation: "ADP can result from: (1) persistent Na+ current, (2) Ca²⁺ currents, (3) Ca²⁼-activated cation currents, (4) voltage-gated cation channels."
            },
            {
                question: "The 'sodium channel resurgent current' observed in some neurons:",
                options: [
                    "Occurs during repolarization as channels recover from inactivation",
                    "Involves β4 subunit blocking pore then unblocking during repolarization",
                    "Can promote high-frequency firing",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Resurgent Na+ current: β4 subunit acts as open-channel blocker. During repolarization, blocker unbinds allowing Na+ influx. Important in Purkinje cells."
            },

            // Questions 46-60: Propagation, Refractory Periods & Advanced Topics - Answer D
            {
                question: "The 'absolute refractory period' corresponds to:",
                options: [
                    "When sodium channels are inactivated and cannot be reopened",
                    "Voltage range where m_∞·h_∞ is near zero",
                    "Approximately 1-2 ms in mammalian axons",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Absolute refractory period: Na+ channels inactivated (h near 0), m·h product small. Lasts ~1-2 ms until channels recover from inactivation."
            },
            {
                question: "The 'conduction velocity' in unmyelinated axons is proportional to:",
                options: [
                    "√(axon diameter) according to cable theory",
                    "1/√(membrane capacitance × cytoplasmic resistance)",
                    "Higher with increased sodium channel density",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Conduction velocity ∝ √(diameter) ∝ 1/√(R_i·C_m). Also increases with higher Na+ channel density (steeper depolarization)."
            },
            {
                question: "The 'safety factor' for action potential propagation is defined as:",
                options: [
                    "Charge delivered during action potential divided by charge needed to reach threshold",
                    "Typically 5-10 in healthy axons",
                    "Reduced in demyelination or channelopathies",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Safety factor = Q_delivered/Q_threshold ≈ 5-10. Ensures reliable propagation. Reduced in disease (e.g., MS, neuropathies)."
            },
            {
                question: "The 'Hodgkin-Huxley equations' in dimensionless form reveal:",
                options: [
                    "The system is a fast-slow system with V and m as fast variables, n and h as slow",
                    "Bifurcation at threshold from stable fixed point to limit cycle",
                    "Can be reduced to 2D FitzHugh-Nagumo model",
                    "All of the above"
                ],
                correct: 3,
                explanation: "HH equations: V and m fast (Na+ activation), n and h slower (K+ activation, Na+ inactivation). Bifurcation at threshold. FitzHugh-Nagumo is 2D reduction."
            },
            {
                question: "The 'saltatory conduction' in myelinated axons increases velocity by:",
                options: [
                    "Increasing membrane resistance (R_m) and decreasing capacitance (C_m) internodally",
                    "Concentrating sodium channels at nodes (1000-2000/μm²)",
                    "Allowing action potentials to jump between nodes",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Myelin: ↑R_m, ↓C_m between nodes. Na+ channels concentrated at nodes (1000-2000/μm²). AP jumps between nodes, velocity up to 120 m/s."
            },
            {
                question: "The 'strength-duration time constant' (τ_SD) is related to:",
                options: [
                    "Membrane time constant τ_m = R_m·C_m",
                    "Chronaxie = τ_SD·ln(2) ≈ 0.693τ_SD",
                    "Rheobase current",
                    "All of the above"
                ],
                correct: 3,
                explanation: "τ_SD ≈ membrane time constant τ_m. Chronaxie = τ_SD·ln(2). Rheobase = minimum current for infinite duration. Strength-duration: I = I_rh/(1-exp(-t/τ_SD))."
            },
            {
                question: "The 'accommodation index' measures:",
                options: [
                    "How much threshold increases with slowly rising current",
                    "Δthreshold/Δtime or rheobase ratio for different ramp speeds",
                    "Important for filtering low-frequency signals",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Accommodation index quantifies threshold increase with slow depolarization. High accommodation filters slow signals, allows response to fast transients."
            },
            {
                question: "The 'sodium channel subtypes' (NaV1.1-NaV1.9) differ in:",
                options: [
                    "Activation/inactivation kinetics",
                    "Expression patterns (CNS, PNS, cardiac, muscle)",
                    "Sensitivity to tetrodotoxin (TTX-resistant vs TTX-sensitive)",
                    "All of the above"
                ],
                correct: 3,
                explanation: "NaV1.1-1.9: different kinetics, expression (NaV1.1-CNS, NaV1.5-cardiac, NaV1.7-PNS), TTX sensitivity (1.5,1.8,1.9 TTX-resistant)."
            },
            {
                question: "The 'FitzHugh-Nagumo model' simplifies HH to:",
                options: [
                    "dV/dt = V - V³/3 - w + I; dw/dt = φ(V + a - bw)",
                    "w represents recovery variable (combining n and h)",
                    "Captures excitability and refractoriness",
                    "All of the above"
                ],
                correct: 3,
                explanation: "FHN: dV/dt = V - V³/3 - w + I; dw/dt = φ(V + a - bw). w = recovery variable. Captures threshold, AP shape, refractory period."
            },
            {
                question: "The 'sodium channel mutations' in epilepsy (e.g., Dravet syndrome) often cause:",
                options: [
                    "Gain-of-function in some channels, loss-of-function in others",
                    "Altered inactivation or persistent currents",
                    "Increased neuronal excitability",
                    "All of the above"
                ],
                correct: 3,
                explanation: "SCN1A mutations in Dravet: haploinsufficiency → reduced Na+ current in inhibitory neurons → disinhibition. Other mutations cause gain-of-function."
            },
            {
                question: "The 'action potential energy cost' per spike is approximately:",
                options: [
                    "~1×10⁹ ATP molecules per action potential in cortical pyramidal neuron",
                    "Mostly for sodium-potassium pump to restore ion gradients",
                    "Scales with sodium influx ~3-4×10⁴ Na⁺ ions/μm²/AP",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Energy cost: ~3-4×10⁴ Na⁺ enter/μm²/AP. Pump uses 1 ATP per 3 Na⁺ out → ~1×10⁹ ATP/AP in cortical neuron. Major brain energy demand."
            },
            {
                question: "The 'propagation failure' can occur due to:",
                options: [
                    "Axonal branching (impedance mismatch)",
                    "Reduced sodium channel density",
                    "Increased potassium conductance",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Propagation failure at branches (impedance mismatch), with reduced Na⁺ channels (channelopathies), or increased K⁺ conductance (ischemia)."
            },
            {
                question: "The 'sodium channel blockers' in clinical use include:",
                options: [
                    "Local anesthetics (lidocaine, bupivacaine)",
                    "Antiarrhythmics (class I: flecainide, propafenone)",
                    "Antiepileptics (phenytoin, carbamazepine, lamotrigine)",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Na⁺ channel blockers: local anesthetics (lidocaine), antiarrhythmics class I (flecainide), antiepileptics (phenytoin, carbamazepine, lamotrigine)."
            },
            {
                question: "The 'computational models' of action potentials range from:",
                options: [
                    "Detailed biophysical (HH type) with multiple channel types",
                    "Reduced models (FHN, Morris-Lecar)",
                    "Integrate-and-fire for network simulations",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Models: biophysical (detailed channels), reduced (FHN, Morris-Lecar), integrate-and-fire (computationally efficient). Different trade-offs accuracy vs speed."
            },
            {
                question: "The 'future directions' in action potential research include:",
                options: [
                    "Super-resolution imaging of channel nanodomains",
                    "Optogenetics for precise control of excitability",
                    "Molecular dynamics simulations of channel gating",
                    "All of the above"
                ],
                correct: 3,
                explanation: "Future: super-resolution microscopy (channel organization), optogenetics (precise control), MD simulations (gating mechanics), connectomics (network integration)."
            }
        ];

        // Initialize the quiz
        document.addEventListener('DOMContentLoaded', function() {
            const questionsSection = document.getElementById('questions-section');
            const answerSection = document.getElementById('answer-section');
            const answerBank = document.getElementById('answer-bank');
            const submitBtn = document.getElementById('submit-btn');
            const resetBtn = document.getElementById('reset-btn');
            const resultsSection = document.getElementById('results-section');
            const scoreValue = document.getElementById('score-value');
            const attemptedValue = document.getElementById('attempted-value');
            const passedValue = document.getElementById('passed-value');
            const failedValue = document.getElementById('failed-value');
            const detailedAnswers = document.getElementById('detailed-answers');
            const shareTwitterBtn = document.getElementById('share-twitter');
            const shareFacebookBtn = document.getElementById('share-facebook');
            const shareWhatsappBtn = document.getElementById('share-whatsapp');
            const shareCopyBtn = document.getElementById('share-copy');
            const progressBar = document.getElementById('progress-bar');
            
            let userAnswers = Array(quizData.length).fill(null);
            
            // Create question elements
            quizData.forEach((questionData, index) => {
                const questionElement = document.createElement('div');
                questionElement.className = 'question';
                
                // Add category-specific notes
                let categoryNote = '';
                if (index < 15) { // Basic concepts
                    categoryNote = `<div class="depolarization-note">Basic Concepts & Threshold: Questions 1-15 focus on threshold dynamics, HH model mathematics, and molecular mechanisms.</div>`;
                } else if (index < 30) { // Depolarization
                    categoryNote = `<div class="depolarization-note">Depolarization Phase: Questions 16-30 focus on sodium channel kinetics, current magnitudes, and rising phase biophysics.</div>`;
                } else if (index < 45) { // Repolarization
                    categoryNote = `<div class="repolarization-note">Repolarization & AHP: Questions 31-45 focus on potassium channels, after-hyperpolarization, and recovery processes.</div>`;
                } else { // Propagation & advanced
                    categoryNote = `<div class="propagation-note">Propagation & Advanced Topics: Questions 46-60 focus on conduction, refractory periods, models, and clinical correlations.</div>`;
                }
                
                questionElement.innerHTML = `
                    <div class="question-number">${index + 1}</div>
                    <div class="question-text">${questionData.question}</div>
                    ${categoryNote}
                    <div class="options">
                        ${questionData.options.map((option, optionIndex) => `
                            <div class="option" data-question="${index}" data-option="${optionIndex}" data-letter="${String.fromCharCode(65 + optionIndex)}">
                                <div class="option-content">${option}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
                questionsSection.appendChild(questionElement);
                
                // Create answer element for answer bank
                const answerElement = document.createElement('div');
                answerElement.className = 'answer-item';
                const correctLetter = String.fromCharCode(65 + questionData.correct);
                answerElement.innerHTML = `
                    <strong>${index + 1}. ${questionData.question}</strong><br>
                    <span class="answer-correct">Correct: ${correctLetter}. ${questionData.options[questionData.correct]}</span>
                `;
                answerBank.appendChild(answerElement);
            });
            
            // Update progress bar
            function updateProgress() {
                const answered = userAnswers.filter(answer => answer !== null).length;
                const progress = (answered / quizData.length) * 100;
                progressBar.style.width = `${progress}%`;
            }
            
            // Add event listeners to options
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    const questionIndex = parseInt(this.getAttribute('data-question'));
                    const optionIndex = parseInt(this.getAttribute('data-option'));
                    
                    // Remove selected class from all options in this question
                    const questionOptions = document.querySelectorAll(`.option[data-question="${questionIndex}"]`);
                    questionOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Store user's answer
                    userAnswers[questionIndex] = optionIndex;
                    
                    // Update progress
                    updateProgress();
                });
            });
            
            // Submit button event listener
            submitBtn.addEventListener('click', function() {
                let score = 0;
                let attempted = 0;
                let passed = 0;
                let failed = 0;
                
                // Clear previous detailed answers
                detailedAnswers.innerHTML = '';
                
                // Evaluate answers
                quizData.forEach((questionData, index) => {
                    const userAnswer = userAnswers[index];
                    const correctAnswer = questionData.correct;
                    const questionOptions = document.querySelectorAll(`.option[data-question="${index}"]`);
                    
                    if (userAnswer !== null) {
                        attempted++;
                        
                        // Mark correct/incorrect answers
                        questionOptions.forEach((option, optionIndex) => {
                            if (optionIndex === correctAnswer) {
                                option.classList.add('correct');
                            } else if (optionIndex === userAnswer && userAnswer !== correctAnswer) {
                                option.classList.add('incorrect');
                            }
                        });
                        
                        if (userAnswer === correctAnswer) {
                            score++;
                            passed++;
                        } else {
                            failed++;
                        }
                        
                        // Create detailed answer element
                        const detailedAnswer = document.createElement('div');
                        detailedAnswer.className = 'answer-item';
                        const userAnswerClass = userAnswer === correctAnswer ? 'answer-correct' : 'answer-incorrect';
                        const userAnswerLetter = userAnswer !== null ? String.fromCharCode(65 + userAnswer) : '?';
                        const userAnswerText = userAnswer !== null ? questionData.options[userAnswer] : 'Not selected';
                        detailedAnswer.innerHTML = `
                            <strong>${index + 1}. ${questionData.question}</strong><br>
                            <span class="${userAnswerClass}">Your answer: ${userAnswerLetter}. ${userAnswerText}</span><br>
                            <span class="answer-correct">Correct: ${String.fromCharCode(65 + correctAnswer)}. ${questionData.options[correctAnswer]}</span><br>
                            <div class="clinical-note">${questionData.explanation}</div>
                        `;
                        detailedAnswers.appendChild(detailedAnswer);
                    } else {
                        // Create detailed answer for unattempted question
                        const detailedAnswer = document.createElement('div');
                        detailedAnswer.className = 'answer-item';
                        detailedAnswer.innerHTML = `
                            <strong>${index + 1}. ${questionData.question}</strong><br>
                            <span class="answer-incorrect">Your answer: Not attempted</span><br>
                            <span class="answer-correct">Correct: ${String.fromCharCode(65 + correctAnswer)}. ${questionData.options[correctAnswer]}</span><br>
                            <div class="clinical-note">${questionData.explanation}</div>
                        `;
                        detailedAnswers.appendChild(detailedAnswer);
                    }
                });
                
                // Update score and stats
                scoreValue.textContent = `${score}/${quizData.length}`;
                attemptedValue.textContent = attempted;
                passedValue.textContent = passed;
                failedValue.textContent = failed;
                
                // Show results section and answer section
                resultsSection.style.display = 'block';
                answerSection.classList.add('visible');
                
                // Scroll to results
                resultsSection.scrollIntoView({ behavior: 'smooth' });
            });
            
            // Reset button event listener
            resetBtn.addEventListener('click', function() {
                userAnswers = Array(quizData.length).fill(null);
                
                // Clear all selections
                document.querySelectorAll('.option').forEach(option => {
                    option.classList.remove('selected', 'correct', 'incorrect');
                });
                
                // Hide results section and answer section
                resultsSection.style.display = 'none';
                answerSection.classList.remove('visible');
                
                // Reset progress bar
                progressBar.style.width = '0%';
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // Share buttons functionality
            shareTwitterBtn.addEventListener('click', function() {
                const score = document.getElementById('score-value').textContent;
                const text = `I scored ${score} on the Advanced Action Potential Physiology Quiz! Test your knowledge of Hodgkin-Huxley model and channel biophysics.`;
                const url = window.location.href;
                window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
            });
            
            shareFacebookBtn.addEventListener('click', function() {
                const url = window.location.href;
                window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
            });
            
            shareWhatsappBtn.addEventListener('click', function() {
                const score = document.getElementById('score-value').textContent;
                const text = `I scored ${score} on the Advanced Action Potential Physiology Quiz! Test your knowledge: ${window.location.href}`;
                window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
            });
            
            shareCopyBtn.addEventListener('click', function() {
                const score = document.getElementById('score-value').textContent;
                const attempted = document.getElementById('attempted-value').textContent;
                const passed = document.getElementById('passed-value').textContent;
                const text = `Advanced Action Potential Physiology Quiz Results:
Score: ${score}
Questions Attempted: ${attempted}
Questions Passed: ${passed}
Test your knowledge of Hodgkin-Huxley model and channel biophysics: ${window.location.href}`;
                
                navigator.clipboard.writeText(text).then(function() {
                    alert('Results copied to clipboard!');
                }, function() {
                    alert('Failed to copy results. Please try again.');
                });
            });
        });
    </script>
</body>
</html>